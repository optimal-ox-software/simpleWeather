var __awaiter=this&&this.__awaiter||function(e,t,r,n){function i(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?r(e.value):i(e.value).then(s,a)}u((n=n.apply(e,t||[])).next())}))};var __generator=this&&this.__generator||function(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return u([e,t])}}function u(s){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}};System.register(["./p-d8c81702.system.js","./p-f017d8ac.system.js"],(function(e){"use strict";var t,r,n;return{setters:[function(e){t=e.r;r=e.h},function(e){n=e.S}],execute:function(){var i;(function(e){e["Prompt"]="PROMPT";e["Camera"]="CAMERA";e["Photos"]="PHOTOS"})(i||(i={}));var o;(function(e){e["Rear"]="REAR";e["Front"]="FRONT"})(o||(o={}));var s;(function(e){e["Uri"]="uri";e["Base64"]="base64";e["DataUrl"]="dataUrl"})(s||(s={}));var a;(function(e){e["Application"]="APPLICATION";e["Documents"]="DOCUMENTS";e["Data"]="DATA";e["Cache"]="CACHE";e["External"]="EXTERNAL";e["ExternalStorage"]="EXTERNAL_STORAGE"})(a||(a={}));var u;(function(e){e["UTF8"]="utf8";e["ASCII"]="ascii";e["UTF16"]="utf16"})(u||(u={}));var c;(function(e){e["Heavy"]="HEAVY";e["Medium"]="MEDIUM";e["Light"]="LIGHT"})(c||(c={}));var l;(function(e){e["SUCCESS"]="SUCCESS";e["WARNING"]="WARNING";e["ERROR"]="ERROR"})(l||(l={}));var f;(function(e){e["Dark"]="DARK";e["Light"]="LIGHT"})(f||(f={}));var d;(function(e){e["Body"]="body";e["Ionic"]="ionic";e["Native"]="native";e["None"]="none"})(d||(d={}));var h;(function(e){e["Default"]="DEFAULT";e["Destructive"]="DESTRUCTIVE";e["Cancel"]="CANCEL"})(h||(h={}));var p;(function(e){e["Camera"]="camera";e["Photos"]="photos";e["Geolocation"]="geolocation";e["Notifications"]="notifications";e["ClipboardRead"]="clipboard-read";e["ClipboardWrite"]="clipboard-write"})(p||(p={}));var v;(function(e){e["Smart"]="smart";e["Shared"]="shared";e["User"]="user"})(v||(v={}));var m;(function(e){e["Dark"]="DARK";e["Light"]="LIGHT"})(m||(m={}));var w=function(){function e(){var e=this;this.platform="web";this.isNative=false;this.Plugins={};this.Plugins=new Proxy(this.Plugins,{get:function(t,r){if(typeof t[r]==="undefined"){var n=e;return new Proxy({},{get:function(e,t){if(typeof e[t]==="undefined"){return n.pluginMethodNoop.bind(n,e,t,r)}else{return e[t]}}})}else{return t[r]}}})}e.prototype.pluginMethodNoop=function(e,t,r){return Promise.reject(r+" does not have web implementation.")};e.prototype.getPlatform=function(){return this.platform};e.prototype.isPluginAvailable=function(e){return this.Plugins.hasOwnProperty(e)};e.prototype.convertFileSrc=function(e){return e};e.prototype.handleError=function(e){console.error(e)};return e}();var y=function(e){return e.Capacitor=e.Capacitor||new w}(typeof self!=="undefined"?self:typeof window!=="undefined"?window:typeof global!=="undefined"?global:{});var g=y.Plugins;var b=function(){function e(){this.plugins={};this.loadedPlugins={}}e.prototype.addPlugin=function(e){this.plugins[e.config.name]=e};e.prototype.getPlugin=function(e){return this.plugins[e]};e.prototype.loadPlugin=function(e){var t=this.getPlugin(e);if(!t){console.error("Unable to load web plugin "+e+", no such plugin found.");return}t.load()};e.prototype.getPlugins=function(){var e=[];for(var t in this.plugins){e.push(this.plugins[t])}return e};return e}();var P=new b;var x=function(){function e(e,t){this.config=e;this.loaded=false;this.listeners={};this.windowListeners={};if(!t){P.addPlugin(this)}else{t.addPlugin(this)}}e.prototype.addWindowListener=function(e){window.addEventListener(e.windowEventName,e.handler);e.registered=true};e.prototype.removeWindowListener=function(e){if(!e){return}window.removeEventListener(e.windowEventName,e.handler);e.registered=false};e.prototype.addListener=function(e,t){var r=this;var n=this.listeners[e];if(!n){this.listeners[e]=[]}this.listeners[e].push(t);var i=this.windowListeners[e];if(i&&!i.registered){this.addWindowListener(i)}return{remove:function(){r.removeListener(e,t)}}};e.prototype.removeListener=function(e,t){var r=this.listeners[e];if(!r){return}var n=r.indexOf(t);this.listeners[e].splice(n,1);if(!this.listeners[e].length){this.removeWindowListener(this.windowListeners[e])}};e.prototype.notifyListeners=function(e,t){var r=this.listeners[e];if(r){r.forEach((function(e){return e(t)}))}};e.prototype.hasListeners=function(e){return!!this.listeners[e].length};e.prototype.registerWindowListener=function(e,t){var r=this;this.windowListeners[t]={registered:false,windowEventName:e,pluginEventName:t,handler:function(e){r.notifyListeners(t,e)}}};e.prototype.requestPermissions=function(){if(Capacitor.isNative){return Capacitor.nativePromise(this.config.name,"requestPermissions",{})}else{return Promise.resolve({results:[]})}};e.prototype.load=function(){this.loaded=true};return e}();var E=function(e){return e.config.platforms&&e.config.platforms.indexOf(Capacitor.platform)>=0};var _=function(e){var t=P.getPlugins();for(var r=0,n=t;r<n.length;r++){var i=n[r];R(e,i)}};var R=function(e,t){if(e.hasOwnProperty(t.config.name)&&!E(t)){return}e[t.config.name]=t};var S=function(e,t){S=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)if(t.hasOwnProperty(r))e[r]=t[r]};return S(e,t)};function C(e,t){S(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function L(e,t,r,n){return new(r||(r=Promise))((function(i,o){function s(e){try{u(n.next(e))}catch(e){o(e)}}function a(e){try{u(n["throw"](e))}catch(e){o(e)}}function u(e){e.done?i(e.value):new r((function(t){t(e.value)})).then(s,a)}u((n=n.apply(e,t||[])).next())}))}function I(e,t){var r={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},n,i,o,s;return s={next:a(0),throw:a(1),return:a(2)},typeof Symbol==="function"&&(s[Symbol.iterator]=function(){return this}),s;function a(e){return function(t){return u([e,t])}}function u(s){if(n)throw new TypeError("Generator is already executing.");while(r)try{if(n=1,i&&(o=s[0]&2?i["return"]:s[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;if(i=0,o)s=[s[0]&2,o.value];switch(s[0]){case 0:case 1:o=s;break;case 4:r.label++;return{value:s[1],done:false};case 5:r.label++;i=s[1];s=[0];continue;case 7:s=r.ops.pop();r.trys.pop();continue;default:if(!(o=r.trys,o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){r.label=s[1];break}if(s[0]===6&&r.label<o[1]){r.label=o[1];o=s;break}if(o&&r.label<o[2]){r.label=o[2];r.ops.push(s);break}if(o[2])r.ops.pop();r.trys.pop();continue}s=t.call(e,r)}catch(e){s=[6,e];i=0}finally{n=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:true}}}var D=function(e){C(t,e);function t(){return e.call(this,{name:"Accessibility",platforms:["web"]})||this}t.prototype.isScreenReaderEnabled=function(){throw new Error("Feature not available in the browser")};t.prototype.speak=function(e){if(!("speechSynthesis"in window)){return Promise.reject("Browser does not support the Speech Synthesis API")}var t=new SpeechSynthesisUtterance(e.value);if(e.language){t.lang=e.language}window.speechSynthesis.speak(t);return Promise.resolve()};return t}(x);var A=new D;var O=function(e){C(t,e);function t(){var t=e.call(this,{name:"App",platforms:["web"]})||this;if(typeof document!=="undefined"){document.addEventListener("visibilitychange",t.handleVisibilityChange.bind(t),false)}return t}t.prototype.exitApp=function(){throw new Error("Method not implemented.")};t.prototype.canOpenUrl=function(e){return Promise.resolve({value:true})};t.prototype.openUrl=function(e){return Promise.resolve({completed:true})};t.prototype.getLaunchUrl=function(){return Promise.resolve({url:""})};t.prototype.handleVisibilityChange=function(){var e={isActive:document.hidden!==true};this.notifyListeners("appStateChange",e)};return t}(x);var T=new O;var F=function(e){C(t,e);function t(){return e.call(this,{name:"Browser",platforms:["web"]})||this}t.prototype.open=function(e){return L(this,void 0,void 0,(function(){return I(this,(function(t){this._lastWindow=window.open(e.url,e.windowName||"_blank");return[2,Promise.resolve()]}))}))};t.prototype.prefetch=function(e){return L(this,void 0,void 0,(function(){return I(this,(function(e){return[2,Promise.resolve()]}))}))};t.prototype.close=function(){return L(this,void 0,void 0,(function(){return I(this,(function(e){this._lastWindow&&this._lastWindow.close();return[2,Promise.resolve()]}))}))};return t}(x);var k=new F;var N=function(e){C(t,e);function t(){return e.call(this,{name:"Camera",platforms:["web"]})||this}t.prototype.getPhoto=function(e){return L(this,void 0,void 0,(function(){var t=this;return I(this,(function(r){return[2,new Promise((function(r,n){return L(t,void 0,void 0,(function(){var t;var i=this;return I(this,(function(o){switch(o.label){case 0:t=document.createElement("pwa-camera-modal");document.body.appendChild(t);return[4,t.componentOnReady()];case 1:o.sent();t.addEventListener("onPhoto",(function(o){return L(i,void 0,void 0,(function(){var i,s;return I(this,(function(a){switch(a.label){case 0:i=o.detail;if(!(i===null))return[3,1];n("User cancelled photos app");return[3,4];case 1:if(!(i instanceof Error))return[3,2];n(i.message);return[3,4];case 2:s=r;return[4,this._getCameraPhoto(i,e)];case 3:s.apply(void 0,[a.sent()]);a.label=4;case 4:t.dismiss();document.body.removeChild(t);return[2]}}))}))}));t.present();return[2]}}))}))}))]}))}))};t.prototype._getCameraPhoto=function(e,t){return new Promise((function(r,n){var i=new FileReader;var o=e.type.split("/")[1];if(t.resultType==s.Uri){r({webPath:URL.createObjectURL(e),format:o})}else{i.readAsDataURL(e);i.onloadend=function(){var e=i.result;if(t.resultType==s.DataUrl){r({dataUrl:e,format:o})}else{r({base64String:e.split(",")[1],format:o})}};i.onerror=function(e){n(e)}}}))};return t}(x);var q=new N;var U=function(e){C(t,e);function t(){return e.call(this,{name:"Clipboard",platforms:["web"]})||this}t.prototype.write=function(e){return L(this,void 0,void 0,(function(){return I(this,(function(t){switch(t.label){case 0:if(!navigator.clipboard){return[2,Promise.reject("Clipboard API not available in this browser")]}if(!(e.string||e.url))return[3,2];return[4,navigator.clipboard.writeText(e.string||e.url)];case 1:t.sent();return[3,3];case 2:if(e.image){return[2,Promise.reject("Setting images not supported on the web")]}t.label=3;case 3:return[2,Promise.resolve()]}}))}))};t.prototype.read=function(e){return L(this,void 0,void 0,(function(){var t,r,n,i,o;return I(this,(function(s){switch(s.label){case 0:if(!navigator.clipboard){return[2,Promise.reject("Clipboard API not available in this browser")]}if(!(e.type==="string"||e.type==="url"))return[3,2];return[4,navigator.clipboard.readText()];case 1:t=s.sent();return[2,Promise.resolve({value:t})];case 2:return[4,navigator.clipboard.read()];case 3:r=s.sent();for(n=0,i=r.items;n<i.length;n++){o=i[n];if(o.type==="text/plain"){return[2,Promise.resolve({value:o.getAs("text/plain")})]}}s.label=4;case 4:return[2,Promise.reject("Unable to get data from clipboard")]}}))}))};return t}(x);var W=new U;var j=function(e){C(t,e);function t(){var t=e.call(this,{name:"Filesystem",platforms:["web"]})||this;t.DEFAULT_DIRECTORY=a.Data;t.DB_VERSION=1;t.DB_NAME="Disc";t._writeCmds=["add","put","delete"];return t}t.prototype.initDb=function(){return L(this,void 0,void 0,(function(){var e=this;return I(this,(function(r){if(this._db!==undefined){return[2,this._db]}if(!("indexedDB"in window)){throw new Error("This browser doesn't support IndexedDB")}return[2,new Promise((function(r,n){var i=indexedDB.open(e.DB_NAME,e.DB_VERSION);i.onupgradeneeded=t.doUpgrade;i.onsuccess=function(){e._db=i.result;r(i.result)};i.onerror=function(){return n(i.error)};i.onblocked=function(){console.warn("db blocked")}}))]}))}))};t.doUpgrade=function(e){var t=e.target;var r=t.result;switch(e.oldVersion){case 0:case 1:default:if(r.objectStoreNames.contains("FileStorage")){r.deleteObjectStore("FileStorage")}var n=r.createObjectStore("FileStorage",{keyPath:"path"});n.createIndex("by_folder","folder")}};t.prototype.dbRequest=function(e,t){return L(this,void 0,void 0,(function(){var r;return I(this,(function(n){r=this._writeCmds.indexOf(e)!==-1?"readwrite":"readonly";return[2,this.initDb().then((function(n){return new Promise((function(i,o){var s=n.transaction(["FileStorage"],r);var a=s.objectStore("FileStorage");var u=a[e].apply(a,t);u.onsuccess=function(){return i(u.result)};u.onerror=function(){return o(u.error)}}))}))]}))}))};t.prototype.dbIndexRequest=function(e,t,r){return L(this,void 0,void 0,(function(){var n;return I(this,(function(i){n=this._writeCmds.indexOf(t)!==-1?"readwrite":"readonly";return[2,this.initDb().then((function(i){return new Promise((function(o,s){var a=i.transaction(["FileStorage"],n);var u=a.objectStore("FileStorage");var c=u.index(e);var l=c[t].apply(c,r);l.onsuccess=function(){return o(l.result)};l.onerror=function(){return s(l.error)}}))}))]}))}))};t.prototype.getPath=function(e,t){e=e||this.DEFAULT_DIRECTORY;var r=t!==undefined?t.replace(/^[/]+|[/]+$/g,""):"";var n="/"+e;if(t!=="")n+="/"+r;return n};t.prototype.clear=function(){return L(this,void 0,void 0,(function(){var e,t,r;return I(this,(function(n){switch(n.label){case 0:return[4,this.initDb()];case 1:e=n.sent();t=e.transaction(["FileStorage"],"readwrite");r=t.objectStore("FileStorage");r.clear();return[2,{}]}}))}))};t.prototype.readFile=function(e){return L(this,void 0,void 0,(function(){var t,r;return I(this,(function(n){switch(n.label){case 0:t=this.getPath(e.directory,e.path);return[4,this.dbRequest("get",[t])];case 1:r=n.sent();if(r===undefined)throw Error("File does not exist.");return[2,{data:r.content}]}}))}))};t.prototype.writeFile=function(e){return L(this,void 0,void 0,(function(){var t,r,n,i,o,s,a,u,c,l;return I(this,(function(f){switch(f.label){case 0:t=this.getPath(e.directory,e.path);r=e.data;return[4,this.dbRequest("get",[t])];case 1:n=f.sent();if(n&&n.type==="directory")throw"The supplied path is a directory.";i=e.encoding;o=t.substr(0,t.lastIndexOf("/"));return[4,this.dbRequest("get",[o])];case 2:s=f.sent();if(!(s===undefined))return[3,4];a=o.indexOf("/",1);if(!(a!==-1))return[3,4];u=o.substr(a);return[4,this.mkdir({path:u,directory:e.directory,recursive:true})];case 3:f.sent();f.label=4;case 4:c=Date.now();l={path:t,folder:o,type:"file",size:r.length,ctime:c,mtime:c,content:!i&&r.indexOf(",")>=0?r.split(",")[1]:r};return[4,this.dbRequest("put",[l])];case 5:f.sent();return[2,{}]}}))}))};t.prototype.appendFile=function(e){return L(this,void 0,void 0,(function(){var t,r,n,i,o,s,a,u,c;return I(this,(function(l){switch(l.label){case 0:t=this.getPath(e.directory,e.path);r=e.data;n=t.substr(0,t.lastIndexOf("/"));i=Date.now();o=i;return[4,this.dbRequest("get",[t])];case 1:s=l.sent();if(s&&s.type==="directory")throw"The supplied path is a directory.";return[4,this.dbRequest("get",[n])];case 2:a=l.sent();if(!(a===undefined))return[3,4];u=n.substr(n.indexOf("/",1));return[4,this.mkdir({path:u,directory:e.directory,recursive:true})];case 3:l.sent();l.label=4;case 4:if(s!==undefined){r=s.content+r;o=s.ctime}c={path:t,folder:n,type:"file",size:r.length,ctime:o,mtime:i,content:r};return[4,this.dbRequest("put",[c])];case 5:l.sent();return[2,{}]}}))}))};t.prototype.deleteFile=function(e){return L(this,void 0,void 0,(function(){var t,r,n;return I(this,(function(i){switch(i.label){case 0:t=this.getPath(e.directory,e.path);return[4,this.dbRequest("get",[t])];case 1:r=i.sent();if(r===undefined)throw Error("File does not exist.");return[4,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(t)])];case 2:n=i.sent();if(n.length!==0)throw Error("Folder is not empty.");return[4,this.dbRequest("delete",[t])];case 3:i.sent();return[2,{}]}}))}))};t.prototype.mkdir=function(e){return L(this,void 0,void 0,(function(){var t,r,n,i,o,s,a,u,c,l,f;return I(this,(function(d){switch(d.label){case 0:t=this.getPath(e.directory,e.path);r=e.createIntermediateDirectories;if(e.createIntermediateDirectories!==undefined){console.warn("createIntermediateDirectories is deprecated, use recursive")}n=e.recursive;i=r||n;o=t.substr(0,t.lastIndexOf("/"));s=(t.match(/\//g)||[]).length;return[4,this.dbRequest("get",[o])];case 1:a=d.sent();return[4,this.dbRequest("get",[t])];case 2:u=d.sent();if(s===1)throw Error("Cannot create Root directory");if(u!==undefined)throw Error("Current directory does already exist.");if(!i&&s!==2&&a===undefined)throw Error("Parent directory must exist");if(!(i&&s!==2&&a===undefined))return[3,4];c=o.substr(o.indexOf("/",1));return[4,this.mkdir({path:c,directory:e.directory,recursive:i})];case 3:d.sent();d.label=4;case 4:l=Date.now();f={path:t,folder:o,type:"directory",size:0,ctime:l,mtime:l};return[4,this.dbRequest("put",[f])];case 5:d.sent();return[2,{}]}}))}))};t.prototype.rmdir=function(e){return L(this,void 0,void 0,(function(){var t,r,n,i,o,s,a,u,c,l,f;return I(this,(function(d){switch(d.label){case 0:t=e.path,r=e.directory,n=e.recursive;i=this.getPath(r,t);return[4,this.dbRequest("get",[i])];case 1:o=d.sent();if(o===undefined)throw Error("Folder does not exist.");if(o.type!=="directory")throw Error("Requested path is not a directory");return[4,this.readdir({path:t,directory:r})];case 2:s=d.sent();if(s.files.length!==0&&!n)throw Error("Folder is not empty");a=0,u=s.files;d.label=3;case 3:if(!(a<u.length))return[3,9];c=u[a];l=t+"/"+c;return[4,this.stat({path:l,directory:r})];case 4:f=d.sent();if(!(f.type==="file"))return[3,6];return[4,this.deleteFile({path:l,directory:r})];case 5:d.sent();return[3,8];case 6:return[4,this.rmdir({path:l,directory:r,recursive:n})];case 7:d.sent();d.label=8;case 8:a++;return[3,3];case 9:return[4,this.dbRequest("delete",[i])];case 10:d.sent();return[2,{}]}}))}))};t.prototype.readdir=function(e){return L(this,void 0,void 0,(function(){var t,r,n,i;return I(this,(function(o){switch(o.label){case 0:t=this.getPath(e.directory,e.path);return[4,this.dbRequest("get",[t])];case 1:r=o.sent();if(e.path!==""&&r===undefined)throw Error("Folder does not exist.");return[4,this.dbIndexRequest("by_folder","getAllKeys",[IDBKeyRange.only(t)])];case 2:n=o.sent();i=n.map((function(e){return e.substring(t.length+1)}));return[2,{files:i}]}}))}))};t.prototype.getUri=function(e){return L(this,void 0,void 0,(function(){var t,r;return I(this,(function(n){switch(n.label){case 0:t=this.getPath(e.directory,e.path);return[4,this.dbRequest("get",[t])];case 1:r=n.sent();if(!(r===undefined))return[3,3];return[4,this.dbRequest("get",[t+"/"])];case 2:r=n.sent();n.label=3;case 3:if(r===undefined)throw Error("Entry does not exist.");return[2,{uri:r.path}]}}))}))};t.prototype.stat=function(e){return L(this,void 0,void 0,(function(){var t,r;return I(this,(function(n){switch(n.label){case 0:t=this.getPath(e.directory,e.path);return[4,this.dbRequest("get",[t])];case 1:r=n.sent();if(!(r===undefined))return[3,3];return[4,this.dbRequest("get",[t+"/"])];case 2:r=n.sent();n.label=3;case 3:if(r===undefined)throw Error("Entry does not exist.");return[2,{type:r.type,size:r.size,ctime:r.ctime,mtime:r.mtime,uri:r.path}]}}))}))};t.prototype.rename=function(e){return L(this,void 0,void 0,(function(){return I(this,(function(t){return[2,this._copy(e,true)]}))}))};t.prototype.copy=function(e){return L(this,void 0,void 0,(function(){return I(this,(function(t){return[2,this._copy(e,false)]}))}))};t.prototype._copy=function(e,t){if(t===void 0){t=false}return L(this,void 0,void 0,(function(){var r,n,i,o,s,a,u,c,l,f,d,h,p,v,m,w,y,g,b,P;var x=this;return I(this,(function(E){switch(E.label){case 0:r=e.to,n=e.from,i=e.directory,o=e.toDirectory;if(!r||!n){throw Error("Both to and from must be provided")}if(!o){o=i}s=this.getPath(i,n);a=this.getPath(o,r);if(s===a){return[2,{}]}if(a.startsWith(s)){throw Error("To path cannot contain the from path")}E.label=1;case 1:E.trys.push([1,3,,6]);return[4,this.stat({path:r,directory:o})];case 2:u=E.sent();return[3,6];case 3:c=E.sent();l=r.split("/");l.pop();f=l.join("/");if(!(l.length>0))return[3,5];return[4,this.stat({path:f,directory:o})];case 4:d=E.sent();if(d.type!=="directory"){throw new Error("Parent directory of the to path is a file")}E.label=5;case 5:return[3,6];case 6:if(u&&u.type==="directory"){throw new Error("Cannot overwrite a directory with a file")}return[4,this.stat({path:n,directory:i})];case 7:h=E.sent();p=function(e,t,r){return L(x,void 0,void 0,(function(){var n,i;return I(this,(function(s){switch(s.label){case 0:n=this.getPath(o,e);return[4,this.dbRequest("get",[n])];case 1:i=s.sent();i.ctime=t;i.mtime=r;return[4,this.dbRequest("put",[i])];case 2:s.sent();return[2]}}))}))};v=h.type;switch(v){case"file":return[3,8];case"directory":return[3,15]}return[3,28];case 8:return[4,this.readFile({path:n,directory:i})];case 9:m=E.sent();if(!t)return[3,11];return[4,this.deleteFile({path:n,directory:i})];case 10:E.sent();E.label=11;case 11:return[4,this.writeFile({path:r,directory:o,data:m.data})];case 12:E.sent();if(!t)return[3,14];return[4,p(r,h.ctime,h.mtime)];case 13:E.sent();E.label=14;case 14:return[2,{}];case 15:if(u){throw Error("Cannot move a directory over an existing object")}E.label=16;case 16:E.trys.push([16,20,,21]);return[4,this.mkdir({path:r,directory:o,recursive:false})];case 17:E.sent();if(!t)return[3,19];return[4,p(r,h.ctime,h.mtime)];case 18:E.sent();E.label=19;case 19:return[3,21];case 20:w=E.sent();return[3,21];case 21:return[4,this.readdir({path:n,directory:i})];case 22:y=E.sent().files;g=0,b=y;E.label=23;case 23:if(!(g<b.length))return[3,26];P=b[g];return[4,this._copy({from:n+"/"+P,to:r+"/"+P,directory:i,toDirectory:o},t)];case 24:E.sent();E.label=25;case 25:g++;return[3,23];case 26:if(!t)return[3,28];return[4,this.rmdir({path:n,directory:i})];case 27:E.sent();E.label=28;case 28:return[2,{}]}}))}))};t._debug=true;return t}(x);var K=new j;var M=function(e){var t=[];for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}t.forEach((function(t){if(t&&typeof t==="object"){for(var r in t){if(t.hasOwnProperty(r)){e[r]=t[r]}}}}));return e};var B=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=Math.random()*16|0,r=e=="x"?t:t&3|8;return r.toString(16)}))};var V=function(e){C(t,e);function t(){return e.call(this,{name:"Geolocation",platforms:["web"]})||this}t.prototype.getCurrentPosition=function(e){var t=this;return new Promise((function(r,n){return t.requestPermissions().then((function(t){window.navigator.geolocation.getCurrentPosition((function(e){r(e)}),(function(e){n(e)}),M({enableHighAccuracy:true,timeout:1e4,maximumAge:0},e))}))}))};t.prototype.watchPosition=function(e,t){var r=window.navigator.geolocation.watchPosition((function(e){t(e)}),(function(e){t(null,e)}),M({enableHighAccuracy:true,timeout:1e4,maximumAge:0},e));return""+r};t.prototype.clearWatch=function(e){window.navigator.geolocation.clearWatch(parseInt(e.id,10));return Promise.resolve()};return t}(x);var G=new V;var H=function(e){C(t,e);function t(){return e.call(this,{name:"Device",platforms:["web"]})||this}t.prototype.getInfo=function(){return L(this,void 0,void 0,(function(){var e,t,r,n;return I(this,(function(i){switch(i.label){case 0:e=navigator.userAgent;t=this.parseUa(e);r={};i.label=1;case 1:i.trys.push([1,3,,4]);return[4,navigator.getBattery()];case 2:r=i.sent();return[3,4];case 3:n=i.sent();return[3,4];case 4:return[2,Promise.resolve({model:t.model,platform:"web",appVersion:"",appBuild:"",osVersion:t.osVersion,manufacturer:navigator.vendor,isVirtual:false,batteryLevel:r.level,isCharging:r.charging,uuid:this.getUid()})]}}))}))};t.prototype.getLanguageCode=function(){return L(this,void 0,void 0,(function(){return I(this,(function(e){return[2,{value:navigator.language}]}))}))};t.prototype.parseUa=function(e){var t={};var r=e.indexOf("(")+1;var n=e.indexOf(") AppleWebKit");if(e.indexOf(") Gecko")!==-1){n=e.indexOf(") Gecko")}var i=e.substring(r,n);if(e.indexOf("Android")!==-1){t.model=i.replace("; wv","").split("; ").pop().split(" Build")[0];t.osVersion=i.split("; ")[1]}else{t.model=i.split("; ")[0];if(navigator.oscpu){t.osVersion=navigator.oscpu}else{if(e.indexOf("Windows")!==-1){t.osVersion=i}else{var o=i.split("; ").pop().replace(" like Mac OS X","").split(" ");t.osVersion=o[o.length-1].replace(/_/g,".")}}}return t};t.prototype.getUid=function(){var e=window.localStorage.getItem("_capuid");if(e){return e}e=B();window.localStorage.setItem("_capuid",e);return e};return t}(x);var z=new H;var X=function(e){C(t,e);function t(){var t=e.call(this,{name:"LocalNotifications",platforms:["web"]})||this;t.pending=[];return t}t.prototype.sendPending=function(){var e=this;var t=[];var r=+new Date;this.pending.forEach((function(n){if(n.schedule&&n.schedule.at){if(+n.schedule.at<=r){e.buildNotification(n);t.push(n)}}}));console.log("Sent pending, removing",t);this.pending=this.pending.filter((function(e){return!t.find((function(t){return t===e}))}))};t.prototype.sendNotification=function(e){var t=this;var r=e;if(e.schedule&&e.schedule.at){var n=+e.schedule.at-+new Date;this.pending.push(r);setTimeout((function(){t.sendPending()}),n);return}this.buildNotification(e)};t.prototype.buildNotification=function(e){var t=e;return new Notification(t.title,{body:t.body})};t.prototype.schedule=function(e){var t=this;var r=[];e.notifications.forEach((function(e){r.push(t.sendNotification(e))}));return Promise.resolve({notifications:r.map((function(e){return{id:""}}))})};t.prototype.getPending=function(){return Promise.resolve({notifications:this.pending.map((function(e){return{id:""+e.id}}))})};t.prototype.registerActionTypes=function(e){throw new Error("Method not implemented.")};t.prototype.cancel=function(e){console.log("Cancel these",e);this.pending=this.pending.filter((function(t){return!e.notifications.find((function(e){return e.id===""+t.id}))}));return Promise.resolve()};t.prototype.areEnabled=function(){throw new Error("Method not implemented.")};t.prototype.requestPermissions=function(){return new Promise((function(e,t){Notification.requestPermission().then((function(r){if(r==="denied"||r==="default"){t(r);return}e({results:[r]})})).catch((function(e){t(e)}))}))};return t}(x);var Y=new X;var $=function(e){C(t,e);function t(){return e.call(this,{name:"Share",platforms:["web"]})||this}t.prototype.share=function(e){if(!navigator.share){return Promise.reject("Web Share API not available")}return navigator.share({title:e.title,text:e.text,url:e.url})};return t}(x);var J=new $;var Q=function(e){C(t,e);function t(){return e.call(this,{name:"Modals",platforms:["web"]})||this}t.prototype.alert=function(e){return L(this,void 0,void 0,(function(){return I(this,(function(t){window.alert(e.message);return[2,Promise.resolve()]}))}))};t.prototype.prompt=function(e){return L(this,void 0,void 0,(function(){var t;return I(this,(function(r){t=window.prompt(e.message,e.inputPlaceholder||"");return[2,Promise.resolve({value:t,cancelled:t===null})]}))}))};t.prototype.confirm=function(e){return L(this,void 0,void 0,(function(){var t;return I(this,(function(r){t=window.confirm(e.message);return[2,Promise.resolve({value:t})]}))}))};t.prototype.showActions=function(e){return L(this,void 0,void 0,(function(){var t=this;return I(this,(function(r){return[2,new Promise((function(r,n){return L(t,void 0,void 0,(function(){var t,n,i;return I(this,(function(o){switch(o.label){case 0:t=document.querySelector("ion-action-sheet-controller");if(!t){t=document.createElement("ion-action-sheet-controller");document.body.appendChild(t)}return[4,t.componentOnReady()];case 1:o.sent();n=e.options.map((function(e,t){return{text:e.title,role:e.style&&e.style.toLowerCase()||"",icon:e.icon||"",handler:function(){r({index:t})}}}));return[4,t.create({title:e.title,buttons:n})];case 2:i=o.sent();return[4,i.present()];case 3:o.sent();return[2]}}))}))}))]}))}))};return t}(x);var Z=new Q;var ee=function(e){C(t,e);function t(){var t=e.call(this,{name:"Motion"})||this;t.registerWindowListener("devicemotion","accel");t.registerWindowListener("deviceorientation","orientation");return t}return t}(x);var te=new ee;var re=function(e){C(t,e);function t(){var t=e.call(this,{name:"Network",platforms:["web"]})||this;t.listenerFunction=null;return t}t.prototype.getStatus=function(){return new Promise((function(e,t){if(!window.navigator){t("Network info not available");return}var r=window.navigator.onLine;var n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;var i=n?n.type||n.effectiveType:"wifi";e({connected:r,connectionType:r?i:"none"})}))};t.prototype.addListener=function(e,t){var r=this;var n=window.navigator.connection||window.navigator.mozConnection||window.navigator.webkitConnection;var i=n?n.type||n.effectiveType:"wifi";var o=t.bind(r,{connected:true,connectionType:i});var s=t.bind(r,{connected:false,connectionType:"none"});if(e.localeCompare("networkStatusChange")===0){window.addEventListener("online",o);window.addEventListener("offline",s);return{remove:function(){window.removeEventListener("online",o);window.removeEventListener("offline",s)}}}};return t}(x);var ne=new re;var ie=function(e){C(t,e);function t(){return e.call(this,{name:"Permissions"})||this}t.prototype.query=function(e){return L(this,void 0,void 0,(function(){var t,r,n;return I(this,(function(i){switch(i.label){case 0:t=window.navigator;if(!t.permissions){return[2,Promise.reject("This browser does not support the Permissions API")]}r=e.name===p.Photos?"camera":e.name;return[4,t.permissions.query({name:r})];case 1:n=i.sent();return[2,{state:n.state}]}}))}))};return t}(x);var oe=new ie;var se=function(e){C(t,e);function t(){return e.call(this,{name:"SplashScreen",platforms:["web"]})||this}t.prototype.show=function(e,t){return Promise.resolve()};t.prototype.hide=function(e,t){return Promise.resolve()};return t}(x);var ae=new se;var ue=function(e){C(t,e);function t(){var t=e.call(this,{name:"Storage",platforms:["web"]})||this;t.KEY_PREFIX="_cap_";return t}t.prototype.get=function(e){var t=this;return new Promise((function(r,n){r({value:window.localStorage.getItem(t.makeKey(e.key))})}))};t.prototype.set=function(e){var t=this;return new Promise((function(r,n){window.localStorage.setItem(t.makeKey(e.key),e.value);r()}))};t.prototype.remove=function(e){var t=this;return new Promise((function(r,n){window.localStorage.removeItem(t.makeKey(e.key));r()}))};t.prototype.keys=function(){var e=this;return new Promise((function(t,r){t({keys:Object.keys(localStorage).filter((function(t){return e.isKey(t)})).map((function(t){return e.getKey(t)}))})}))};t.prototype.clear=function(){var e=this;return new Promise((function(t,r){Object.keys(localStorage).filter((function(t){return e.isKey(t)})).forEach((function(e){return window.localStorage.removeItem(e)}));t()}))};t.prototype.makeKey=function(e){return this.KEY_PREFIX+e};t.prototype.isKey=function(e){return e.indexOf(this.KEY_PREFIX)===0};t.prototype.getKey=function(e){return e.substr(this.KEY_PREFIX.length)};return t}(x);var ce=new ue;var le=function(e){C(t,e);function t(){return e.call(this,{name:"Toast",platforms:["web"]})||this}t.prototype.show=function(e){return L(this,void 0,void 0,(function(){var t,r;return I(this,(function(n){t=3e3;if(e.duration){t=e.duration==="long"?5e3:3e3}r=document.createElement("pwa-toast");r.duration=t;r.message=e.text;document.body.appendChild(r);return[2]}))}))};return t}(x);var fe=new le;_(g);function de(e,t){if(t=="celsius"){return e-273.15}else if(t=="fahrenheit"){return(e-273.15)*1.8+32}else{return e}}var he=function(){function e(){this.apiKey="917d83dde0f4e28a2ee0586494c03d61"}e.prototype.load=function(){return __awaiter_1(this,void 0,void 0,(function(){return __generator_1(this,(function(e){switch(e.label){case 0:if(!this.data)return[3,1];return[2,this.data];case 1:return[4,this.refreshWeather()];case 2:return[2,e.sent()]}}))}))};e.prototype.refreshWeather=function(){return __awaiter_1(this,void 0,void 0,(function(){var e,t,r,i,o,o,s,a;return __generator_1(this,(function(u){switch(u.label){case 0:return[4,Promise.all([n.getLocation(),n.getTemperatureUnit()])];case 1:e=u.sent(),t=e[0],r=e[1];u.label=2;case 2:u.trys.push([2,7,,8]);if(!t.useCoords)return[3,4];o="http://api.openweathermap.org/data/2.5/weather?lat="+t.lat+"&lon="+t.lng+"&APPID="+this.apiKey;console.log(o);return[4,fetch(o)];case 3:i=u.sent();if(!i.ok){throw new Error("throw "+i.statusText)}return[3,6];case 4:o="http://api.openweathermap.org/data/2.5/weather?q="+t.name+"&APPID="+this.apiKey;console.log(o);return[4,fetch(o)];case 5:i=u.sent();if(!i.ok){throw new Error("throw "+i.statusText)}u.label=6;case 6:return[3,8];case 7:s=u.sent();return[2,Promise.reject(s)];case 8:return[4,i.json()];case 9:a=u.sent();this.data=this.processData(a,r);return[2,this.data]}}))}))};e.prototype.processData=function(e,t){e.main.temp=parseFloat(de(e.main.temp,t).toFixed(1));e.main.temp_min=parseFloat(de(e.main.temp_min,t).toFixed(1));e.main.temp_max=parseFloat(de(e.main.temp_max,t).toFixed(1));return e};e.prototype.getCurrentWeather=function(){return __awaiter_1(this,void 0,void 0,(function(){var e;return __generator_1(this,(function(t){switch(t.label){case 0:return[4,this.load()];case 1:e=t.sent();return[2,e]}}))}))};return e}();var pe=new he;var ve=g.Geolocation;var me=e("app_home",function(){function e(e){t(this,e);this.weatherIcon="thermometer";this.weather={base:"",clouds:null,cod:null,coord:null,dt:null,id:null,main:{humidity:null,pressure:null,temp:null,temp_min:null,temp_max:null},name:"Loading...",sys:null,visibility:null,weather:[{id:null,main:null,description:null,icon:null}],wind:null}}e.prototype.componentDidLoad=function(){return __awaiter_1(this,void 0,void 0,(function(){var e,t,r,i;var o=this;return __generator_1(this,(function(s){switch(s.label){case 0:return[4,ve.getCurrentPosition()];case 1:e=s.sent();return[4,n.setCoords(e.coords.latitude,e.coords.longitude)];case 2:s.sent();s.label=3;case 3:s.trys.push([3,5,,6]);t=this;return[4,pe.getCurrentWeather()];case 4:t.weather=s.sent();return[3,6];case 5:r=s.sent();console.log(r);return[3,6];case 6:i=document.querySelector("ion-router");i.addEventListener("ionRouteDidChange",(function(){o.refresherHandler()}));this.setWeatherIcon();return[2]}}))}))};e.prototype.refresherHandler=function(e){return __awaiter_1(this,void 0,void 0,(function(){var t,r;return __generator_1(this,(function(n){switch(n.label){case 0:n.trys.push([0,2,,3]);t=this;return[4,pe.refreshWeather()];case 1:t.weather=n.sent();return[3,3];case 2:r=n.sent();console.log(r);return[3,3];case 3:this.setWeatherIcon();if(e){e.target.complete()}return[2]}}))}))};e.prototype.setWeatherIcon=function(){var e="thermometer";var t=this.weather.weather[0].description;if(t){if(t.includes("lightning"))e="thunderstorm";if(t.includes("thunder"))e="thunderstorm";if(t.includes("wind"))e="flag";if(t.includes("shower"))e="rainy";if(t.includes("rain"))e="rainy";if(t.includes("snow"))e="snow";if(t.includes("frost"))e="snow";if(t.includes("cloud"))e="cloudy";if(t.includes("sun"))e="sunny";if(t.includes("clear "))e="sunny"}this.weatherIcon=e};e.prototype.render=function(){var e=this;return[r("ion-header",null,r("ion-toolbar",{color:"primary"},r("ion-title",null,"Weather"),r("ion-buttons",{slot:"end"},r("ion-button",{href:"/settings",routerDirection:"forward"},r("ion-icon",{name:"settings",slot:"icon-only"}))))),r("ion-content",{class:"ion-padding"},r("ion-refresher",{slot:"fixed",onIonRefresh:function(t){return e.refresherHandler(t)}},r("ion-refresher-content",null)),r("div",{class:"weather-display"},r("ion-icon",{name:this.weatherIcon}),r("h1",null,this.weather.main.temp,"°"),r("p",null,this.weather.weather[0].description),r("ion-card",null,r("ion-card-header",null,r("ion-card-subtitle",null,this.weather.name),r("ion-card-title",null,"Overview")),r("ion-card-content",null,r("ion-grid",null,r("ion-row",null,r("ion-col",{size:"6"}," Min "),r("ion-col",{size:"6"}," ",this.weather.main.temp_min,"° ")),r("ion-row",null,r("ion-col",{size:"6"}," Max "),r("ion-col",{size:"6"}," ",this.weather.main.temp_max,"° ")))))))]};Object.defineProperty(e,"style",{get:function(){return"ion-card{--ion-item-background:rgba(255,255,255,0,22);width:100%;margin-top:auto!important}ion-col{font-weight:700}ion-refresher{background:var(--ion-background-color)}.weather-display{height:100%;display:-ms-flexbox;display:flex;-ms-flex-direction:column;flex-direction:column;-ms-flex-align:center;align-items:center;-ms-flex-pack:start;justify-content:flex-start}.weather-display h1{font-size:2.5em}.weather-display ion-icon{color:#fff;font-size:10em}.weather-display .temperature{background:hsla(0,0%,100%,.4);border-radius:10px;width:100%;padding:20px;text-align:center}"},enumerable:true,configurable:true});return e}())}}}));