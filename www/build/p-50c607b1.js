const t=window.localStorage;function e(e,r){return new Promise((n,s)=>{try{t&&t.setItem(e,JSON.stringify(r)),n()}catch(t){s("could not store object: ${err}")}})}function r(e){return new Promise((r,n)=>{try{if(t){const n=t.getItem(e);r(JSON.parse(n))}r(void 0)}catch(t){n("could not get object: ${err}")}})}const n="weatherUserLocation",s=new class{constructor(){this.defaultLocation={useCoords:!0,lat:null,lng:null,name:"Adelaide"}}async getTemperatureUnit(){let t=await r("weatherTemperatureUnit")||"celsius";return console.log("-- getTemp "+t),t}async setTemperatureUnit(t){console.log("-- setTemp "+t),await e("weatherTemperatureUnit",t)}async getLocation(){return await r(n)||this.defaultLocation}async setLocationName(t){let r=await this.getLocation()||this.defaultLocation;return r.name=t,e(n,r)}async setCoords(t,r){let s=await this.getLocation()||this.defaultLocation;return s.lat=t,s.lng=r,e(n,s)}async setUseCoords(t){let r=await this.getLocation()||this.defaultLocation;return r.useCoords=t,e(n,r)}};export{s as S};